# Introduction

Not sure where to get started? Read this page to achieve a broad understanding
of how this repository and its documentation are organized; as well as a brief
explanation of how its libraries are designed and fit together.

- Introduction
  - About this repository
  - About this documentation
  - High level design considerations
  - Next steps

## About this repository

This repository contains three projects:

- `/src/`: The rendering library equivelant of `cornerstone-core`
- `/src/cornerstone-tools-3d`: The tool library equivelant of `cornerstone-tools`
- `/examples`: Consumes both of the above libraries to demonstrate functionality in a simple `react` app

Notably missing is a separately packaged image loading library. We instead bundle
and expose an image-loader via the rendering library's `registerImageLoader` export.

In an effort to slowly and intentionally grow the API surface area of these libraries,
we at times rely on functionality in their predecessors. In that same vein, the `examples`
project has a `helpers` folder containing functionality that many consumers of
these libraries would benefit from. At a later date, those helpers may make their
way back into the rendering and tool libraries.

## About this documentation

This documentation is generated by [TypeDoc](https://typedoc.org/). TypeDoc uses
a combination of Markdown and [TSDoc](https://tsdoc.org/) decorated API to generate
the static HTML, CSS, and JS you're reading now. The documentation is organized
as follows:

```bash
- Documentation                 # Generated from markdown
  - Introduction (this page!)   # High level overview
  - Setup                       # Installation + Configuration
  - Usage                       # How to do X (basics)
  - Custom Tools                # How to author a tool
                                #
- API                           # Generated from TypeScript + TSDoc
  - Modules                     # Index of libraries
  - cornerstone-tools-3d        # Tools library
  - index                       # Rendering library
```

If a guide is no longer up-to-date, you can author a PR to update it by modifying
the files in `./docs/pages/*.md`. A new page can be created by updating
`./typedoc.json`. API documentation can be ammended by modifying the JS comments
or TypeScript definitions for the code in question. Only exported code will have
documentation generated for it.

## High level design considerations

These libraries expand upon and update the interfaces `cornerstone.js` provided
to better support volume rendering, 3D aware tools, and PET support. These
interfaces and functionality are broadly identifed as:

- Rendering / Renderer
- Image Loading / Image Loader
- Metadata Provider
- Tools

This repository's `vtkjs-viewport` is a "rendering" library built on top of `vtk.js`.
It does not expose the same `registerImageLoader`, `loadImage`, and `addProvider`
methods. Instead, it has a dependency on, and leverages `cornerstone`'s existing
plumbing to integrate with image loaders and metadata providers.

`vtkjs-viewport` does come bundled with a `registerImageLoader` convenience method
that takes `cornerstone` as an argument to wire up the `vtkjs` image loader.

The `example` project in this repository contains a simple "metadata provider",
named "WADORSHeaderProvider", that allows for querying metadata by instance and
imageId.

This repository's `vtkjs-viewport-tools` is a "tools" library that, once initialized,
will listen for custom events emitted by `vtkjs-viewport`. Please note, the event
naming and handling overlaps the events and event handling in the `cornerstone-tools`
library. If you attempt to use `cornerstone-tools` in tandem, you will likely encounter
issues. As this is a possible use case, please don't hesitate to report any issues
and propose potential solutions.

## Next Steps

For next steps, you can:

- [Check out the Setup documentation](#)
- [Explore our example application's source code](#)
